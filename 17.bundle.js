(self.webpackChunketsy_seo=self.webpackChunketsy_seo||[]).push([[17],{88017:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(77953),n=r(67294),u=r(94567),o=r(29915),l=r(75793),c=r(15893);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,u=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw u}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var v=(0,u.DI)((function(e){var t,r,u,c,i,s,p=m((0,n.useState)(e.default_value&&e.default_value[e.remote_id]?e.default_value[e.remote_id]:{}),2),v=p[0],h=p[1],_=m((0,n.useState)({}),2),g=_[0],b=_[1],y=m((0,n.useState)({}),1)[0];(0,n.useEffect)((function(){e.default_value&&(h(e.default_value[e.remote_id]),e.updateChanges(e.remote_id,e.default_value[e.remote_id]))}),[]);var E=function(t,r){v[t]=r;var a=!0;Object.keys(v).forEach((function(e){"status"!=e&&0==v[e].status&&(a=!1)})),v.status=a,e.updateChanges(e.remote_id,v)},O=function(e,t){y[e]=t;var r=!1;Object.keys(y).forEach((function(e){"status"!=e&&null!=y[e][0]&&(r=!0)})),y.status=r,E("warehouses",y)};(0,n.useEffect)((function(){if(e.redux.account){var t=e.redux.account.source;b(t)}}),[e.redux.account]);var j=Object.values(e.accountInfo.warehouses),w=g&&Object.keys(g);return n.createElement(n.Fragment,null,n.createElement(a.Zb,{cardType:"selego"},n.createElement(l.Z,{getData:E,from:e.from,default_value:e.default_value?null===(t=e.default_value[e.remote_id])||void 0===t?void 0:t.general:"",parentObj:e.d,catAttr:e.catAttr})),g&&(j.length>1&&w.length>1&&g[w[0]].length>1&&Object.values(null==g||null===(r=g[w[0]])||void 0===r||null===(u=r[0])||void 0===u?void 0:u.warehouses).length>1?O(j[0]._id,null===(c=g[w[0]])||void 0===c||null===(i=c[0])||void 0===i||null===(s=i.warehouses[0])||void 0===s?void 0:s._id):n.createElement(a.Zb,{cardType:"selego",title:"WareHouse Mapping"},j.map((function(t){return n.createElement(n.Fragment,null,n.createElement(a.Zb,{cardType:"hover"},n.createElement(a.D7,{halign:"start",spacing:"extraLoose",wrap:"wrap"},j.length>1&&n.createElement(a.Ct,{type:"none"},n.createElement("h3",null,t.name)),n.createElement(n.Fragment,null,g?w.map((function(r){return g[r].map((function(u){var l={},c=[];return Object.values(u.warehouses).forEach((function(e){l=d(d({},l),{},f({},e._id,e.name)),c.push(e._id.toString())})),n.createElement(n.Fragment,null,n.createElement(a.D7,{direction:"vertical",spacing:"extraLoose"},n.createElement("h4",null,"Source MarketPlace: ",r," Shop Name: ",u.name),n.createElement(o.dW,{group:{options:l,default_value:e.default_value&&e.default_value[e.remote_id]&&e.default_value[e.remote_id].warehouses?e.default_value[e.remote_id].warehouses[t._id]:c,title:"",code:t._id},updateChanges:O})))}))})):n.createElement(a.Od,{line:5})))))})))))}));const h=(0,u.DI)((function(e){var t=m((0,n.useState)([]),2),r=t[0],u=t[1],l=m((0,n.useState)({}),1)[0],s=m((0,n.useState)(),2),p=s[0],h=s[1],_=m((0,n.useState)({}),2),g=_[0],b=_[1],y=m((0,n.useState)({}),2),E=y[0],O=y[1],j=m((0,n.useState)(!1),2),w=j[0],S=j[1];(0,n.useEffect)((function(){if(e.redux.account){var t=e.redux.account.target;u(t[e.from]),h(t[e.from][0].remote_shop_id)}}),[e.redux.account]),(0,n.useEffect)((function(){}),[]);var k=function(t,r){l[t]=r;var a=!0;Object.keys(l).forEach((function(e){var t;"status"!=e&&0==(null===(t=l[e])||void 0===t?void 0:t.status)&&(a=!1)})),l.status=a,e.updateChanges(e.from,l)},C=e.default_value&&e.default_value.cat_sel?e.default_value.cat_sel.path:"";return e.d&&""==C&&(C=e.d.general.cat_sel.path),n.createElement(n.Fragment,null,"  ",null!=r[0]&&n.createElement(a.Zb,{cardType:"selego",title:"Category Select"},n.createElement(o.OD,{group:{default_value:C,seperator:">",marketplace:"cedcommerce",code:"cat_sel",flexProps:{childWidth:"fullWidth",wrap:"wrap",desktopWidth:"33",mobileWidth:"100",spacing:"loose",tabWidth:"100"}},updateChanges:function(t,r,a){S(!1),b({}),O({}),null!=a&&a.mapping&&e.di.GET("connector/profile/getCategoryAttribute?",{marketplace:"global"==e.from?"cedcommerce":e.catAttr,category_id:"global"==e.from?null==a?void 0:a.next_lvl:null==a?void 0:a.mapping[e.catAttr]}).then((function(e){if(e.success){var t={},r={};null!=e.data[0]&&S(!0),e.data.forEach((function(e){0==e.required?t=d(d({},t),{},f({},e.marketplace_attribute_id,e.marketplace_attribute_id)):r=d(d({},r),{},f({},e.marketplace_attribute_id,e.marketplace_attribute_id))})),b(t),O(r)}})),k(t,{path:r,id:null==a?void 0:a.id,status:!(null==a||!a.id)})}})),r.map((function(t){return n.createElement(n.Fragment,null,n.createElement(a.UQ,{title:"Shop ID:- ".concat(t.remote_shop_id),active:p===t.remote_shop_id,onClick:function(){return h(t.remote_shop_id)}},n.createElement(a.Zb,null,n.createElement(c.zt,{value:{attrOptionsReq:E,attrOptionsNotReq:g,showAttr:w}},n.createElement(v,i({},e,{updateChanges:k,remote_id:t.remote_shop_id,accountInfo:t}))))))})))}))}}]);