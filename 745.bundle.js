(self.webpackChunketsy_seo=self.webpackChunketsy_seo||[]).push([[745],{82745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(67294),a=n(94567),o=n(77953),i=n(15893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=(0,a.DI)((function(e){var t=s((0,r.useState)(""),2),n=t[0],a=t[1],i=s((0,r.useState)(""),2),l=i[0],c=i[1],u=s((0,r.useState)(!1),2),d=u[0],m=u[1];function h(){var t="user/login?username="+n+"&password="+l;e.di.GET(t).then((function(t){if(t.success){var r=(a=t.data.token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(o));e.di.globalState.set("".concat(r.user_id,"_user_authenticated"),"true",!0),e.di.globalState.set("".concat(r.user_id,"_auth_token"),t.data.token,!0),e.di.globalState.set("".concat(r.user_id,"_username"),n,!0),e.loginStatus(),e.history.push("/panel/".concat(r.user_id,"/dashboard"))}else e.error(t.message);var a,o;m(!1)}))}return r.createElement(o.Zb,null,r.createElement("div",{className:"mb-10"},r.createElement(o.nv,{thickness:"thin",value:n,name:"Username",onEnter:function(){m(!0),h()},placeHolder:"Username...",onChange:function(e){a(e)}})),r.createElement("div",{className:"mb-10"},r.createElement(o.nv,{thickness:"thin",value:l,type:"password",name:"Password",onEnter:function(){m(!0),h()},placeHolder:"Password..",onChange:function(e){c(e)}})),r.createElement("div",{className:"mb-10 mt-10"},r.createElement(o.zx,{thickness:"thin",length:"fullBtn",loading:d,onClick:function(){m(!0),h()}},"Login")),r.createElement(o.D7,{halign:"fill"},r.createElement("div",{className:"mr-15"},r.createElement(o.zx,{thickness:"thin",onClick:function(){return e.history.push("/auth/signUp")},type:"PlainDark"},"Registration")),r.createElement(o.zx,{thickness:"thin",onClick:function(){return e.history.push("/auth/forgot")},type:"PlainDark"},"Forgot Password ?")))}),{func:{loginStatus:i.ul}})}}]);